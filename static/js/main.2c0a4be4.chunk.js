(this["webpackJsonpvillager-pedia"]=this["webpackJsonpvillager-pedia"]||[]).push([[0],{53:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(18),i=n.n(r),l=(n(53),n(7)),s=n(5),o=n(41),d=n(1);var j=function(e){var t,n=e.src,a=e.alt,r=e.className,i=e.width,l=e.height,o=c.a.useState(!1),j=Object(s.a)(o,2),h=j[0],u=j[1],b=c.a.useState(!!n),m=Object(s.a)(b,2),O=m[0],p=m[1];return r=null!==(t=r)&&void 0!==t?t:"",Object(d.jsxs)("div",{className:"smooth-image-wrapper",children:[O?Object(d.jsx)("img",{src:n,alt:a,className:"smooth-image ".concat(r," image-").concat(h?"visible":"hidden"),onLoad:function(){return u(!0)},width:i,height:l,onError:function(){return p(!1)}}):Object(d.jsx)("div",{className:"smooth-no-image",children:a}),O&&!h&&Object(d.jsx)("div",{className:"smooth-preloader",children:Object(d.jsx)("span",{className:"loader"})})]})};var h=function(e){return e.showModal?Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(o.a,{show:e.showModal,onHide:e.handleClose,size:"lg",centered:!0,children:[Object(d.jsx)(o.a.Header,{closeButton:!0,children:Object(d.jsx)("div",{className:"bubble-title",style:{backgroundColor:e.modalInfo["bubble-color"]},children:Object(d.jsx)(o.a.Title,{as:"h2",style:{color:e.modalInfo["text-color"]},children:e.modalInfo.name["name-"+e.language]})})}),Object(d.jsx)(o.a.Body,{children:Object(d.jsxs)("div",{className:"row justify-content-between",children:[Object(d.jsxs)("div",{className:"col-md-4 d-md-block d-none",children:[Object(d.jsx)(j,{src:e.modalInfo.image_uri,alt:e.modalInfo.name["name-"+e.language],className:"img-thumbnail mb-3",width:"256",height:"256"}),Object(d.jsx)("q",{className:"d-block text-center mb-4 fst-italic",children:e.modalInfo.saying})]}),Object(d.jsx)("div",{className:"col-md-7 col-12",children:Object(d.jsxs)("dl",{children:[Object(d.jsx)("dt",{children:"Species"}),Object(d.jsx)("dd",{children:e.modalInfo.species}),Object(d.jsx)("dt",{children:"Personality"}),Object(d.jsx)("dd",{children:e.modalInfo.personality}),Object(d.jsx)("dt",{children:"Birthday"}),Object(d.jsx)("dd",{children:e.modalInfo["birthday-string"]}),Object(d.jsx)("dt",{children:"Catchphrase"}),Object(d.jsx)("dd",{children:e.modalInfo["catch-translations"]["catch-"+e.language]}),Object(d.jsx)("dt",{children:"Hobby"}),Object(d.jsx)("dd",{children:e.modalInfo.hobby})]})})]})})]})}):null},u=n(2),b=n(22),m=n(12),O=n(24),p=n(25),f=n(40),v=n(39),x=n(33),g=n(23),y=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).sendData=function(e){a.props.parentCallback(e)},a.callbackFunction=function(e){a.sendData(e)},a.setSort=function(e){a.setState({sort:e})},a.selectSort=function(e){var t=a.state.sort;return"0"===t?a.sortFileName(e):"1"===t?a.sortAlph(e):"2"===t?a.sortAlph(e,!0):"3"===t?a.sortBirthday(e):"4"===t?a.sortBirthday(e,!0):void 0},a.sortAlph=function(e,t){var n=Object(m.a)(e);return n.sort((function(e,t){return e.name["name-"+a.props.language].localeCompare(t.name["name-"+a.props.language])})),null!=t&&n.reverse(),n},a.sortFileName=function(e){var t=Object(m.a)(e);return t.sort((function(e,t){return e["file-name"].localeCompare(t["file-name"])})),t},a.sortBirthday=function(e,t){var n=Object(m.a)(e);return n.sort((function(e,t){var n=Array.from(e.birthday.split("/").reverse(),Number),a=Array.from(t.birthday.split("/").reverse(),Number);return n[0]>a[0]||n[0]===a[0]&&n[1]>a[1]?1:n[0]<a[0]||n[0]===a[0]&&n[1]<a[1]?-1:0})),null!=t&&n.reverse(),n},a.filterBy=function(e,t){var n=JSON.parse(JSON.stringify(a.state.filters));n[e]=""===t?null:t,a.setState({filters:n})},a.handleSearch=function(e){var t=e.target;a.setState({search:t.value})},a.state={error:null,isLoaded:!1,items:[],sort:"0",filters:{personality:null,gender:null,species:null,hobby:null},search:null},a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://acnhapi.com/v1/villagers/").then((function(e){return e.json()})).then((function(t){for(var n=[],a=0,c=Object.keys(t);a<c.length;a++){var r=t[c[a]];n.push(r)}e.setState({isLoaded:!0,items:n})}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"render",value:function(){var e,t=this,n=this.state,a=n.error,c=n.isLoaded,r=n.items,i=n.filters,l=n.search,s=(n.sort,Object.values(i)),o=Object.keys(i),j=Object(m.a)(r),h=Object(m.a)(new Set(r.map((function(e){return e.species})))).sort((function(e,t){return e.localeCompare(t)})),O=[],p=Object(b.a)(h);try{for(p.s();!(e=p.n()).done;){var f=e.value;O.push(Object(d.jsx)("option",{value:f,children:f},f))}}catch(D){p.e(D)}finally{p.f()}var v,y=Object(m.a)(new Set(r.map((function(e){return e.personality})))).sort((function(e,t){return e.localeCompare(t)})),S=[],I=Object(b.a)(y);try{for(I.s();!(v=I.n()).done;){var N=v.value;S.push(Object(d.jsx)("option",{value:N,children:N},N))}}catch(D){I.e(D)}finally{I.f()}var k,w,z,H,A,U=Object(m.a)(new Set(r.map((function(e){return e.hobby})))).sort((function(e,t){return e.localeCompare(t)})),B=[],F=Object(b.a)(U);try{for(F.s();!(k=F.n()).done;){var M=k.value;B.push(Object(d.jsx)("option",{value:M,children:M},M))}}catch(D){F.e(D)}finally{F.f()}if(!s.every((function(e){return null===e})))for(var E=function(e){null!==s[e]&&(j=j.filter((function(t){return t[o[e]]===s[e]})))},L=0;L<s.length;L++)E(L);return l&&(j=j.filter((function(e){return e.name["name-"+t.props.language].toLowerCase().includes(l.toLowerCase())}))),j=this.selectSort(j),a?Object(d.jsxs)("div",{children:["Error: ",a.message]}):c?Object(d.jsxs)("div",{children:[Object(d.jsx)(g.a,{controlId:"floatingInput",label:"Search",className:"mb-3",children:Object(d.jsx)(x.a.Control,{type:"text",value:null!==(w=this.state.search)&&void 0!==w?w:"",onChange:this.handleSearch})}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-md mb-2",children:Object(d.jsx)(g.a,{controlId:"sortBySelect",label:"Sort By",children:Object(d.jsxs)(x.a.Select,{"aria-label":"Sort by",onChange:function(e){return t.setSort(e.target.value)},value:this.state.sort,children:[Object(d.jsx)("option",{value:"0",children:"Filename (A-Z)"}),Object(d.jsx)("option",{value:"1",children:"A-Z"}),Object(d.jsx)("option",{value:"2",children:"Z-A"}),Object(d.jsx)("option",{value:"3",children:"Birthday Ascending"}),Object(d.jsx)("option",{value:"4",children:"Birthday Descending"})]})})}),Object(d.jsx)("div",{className:"col-md mb-2",children:Object(d.jsx)(g.a,{controlId:"speciesFilter",label:"Species",children:Object(d.jsxs)(x.a.Select,{"aria-label":"Filter by Species",onChange:function(e){return t.filterBy("species",e.target.value)},value:null!==(z=this.state.filters.species)&&void 0!==z?z:"",children:[Object(d.jsx)("option",{value:"",children:"All Species"}),O]})})}),Object(d.jsx)("div",{className:"col-md mb-2",children:Object(d.jsx)(g.a,{controlId:"personalityFilter",label:"Personality",children:Object(d.jsxs)(x.a.Select,{"aria-label":"Filter by Personality",onChange:function(e){return t.filterBy("personality",e.target.value)},value:null!==(H=this.state.filters.personality)&&void 0!==H?H:"",children:[Object(d.jsx)("option",{value:"",children:"All Personalities"}),S]})})}),Object(d.jsx)("div",{className:"col-md mb-2",children:Object(d.jsx)(g.a,{controlId:"hobbyFilter",label:"Hobby",children:Object(d.jsxs)(x.a.Select,{"aria-label":"Filter by Hobby",onChange:function(e){return t.filterBy("hobby",e.target.value)},value:null!==(A=this.state.filters.hobby)&&void 0!==A?A:"",children:[Object(d.jsx)("option",{value:"",children:"All Hobbies"}),B]})})})]}),Object(d.jsx)("div",{className:"villager-index pt-5 mt-5 border-top",children:j.map((function(e,n){return Object(d.jsx)(C,Object(u.a)(Object(u.a)({},e),{},{parentCallback:t.callbackFunction,language:t.props.language}),e.id)}))})]}):Object(d.jsx)("div",{children:"Loading..."})}}]),n}(c.a.Component),C=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).sendData=function(){e.props.parentCallback(e.props)},e}return Object(p.a)(n,[{key:"render",value:function(){return Object(d.jsxs)("div",{id:this.props.id,className:"villager-item",onClick:this.sendData,children:[Object(d.jsx)("div",{children:Object(d.jsx)(j,{src:this.props.icon_uri,alt:this.props.name["name-"+this.props.language],width:"128",height:"128"},this.props.icon_uri)}),Object(d.jsx)("h3",{children:this.props.name["name-"+this.props.language]})]})}}]),n}(c.a.Component),S=y,I=n(10);n(57);var N=function(){var e,t=Object(a.useState)([]),n=Object(s.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!1),o=Object(s.a)(i,2),j=o[0],u=o[1],b=Object(a.useState)("USen"),m=Object(s.a)(b,2),O=m[0],p=m[1];return Object(d.jsxs)("div",{className:"App mt-5 container position-relative",children:[Object(d.jsx)("h1",{className:"display-3 mb-5 text-center",children:"ACNH Villagerpedia"}),Object(d.jsxs)(I.a,{className:"position-absolute top-0 end-0",children:[Object(d.jsx)(I.a.Toggle,(e={variant:"success",id:"langSetting"},Object(l.a)(e,"variant","light"),Object(l.a)(e,"children",Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-globe",viewBox:"0 0 16 16","aria-label":"Language",children:Object(d.jsx)("path",{d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm7.5-6.923c-.67.204-1.335.82-1.887 1.855A7.97 7.97 0 0 0 5.145 4H7.5V1.077zM4.09 4a9.267 9.267 0 0 1 .64-1.539 6.7 6.7 0 0 1 .597-.933A7.025 7.025 0 0 0 2.255 4H4.09zm-.582 3.5c.03-.877.138-1.718.312-2.5H1.674a6.958 6.958 0 0 0-.656 2.5h2.49zM4.847 5a12.5 12.5 0 0 0-.338 2.5H7.5V5H4.847zM8.5 5v2.5h2.99a12.495 12.495 0 0 0-.337-2.5H8.5zM4.51 8.5a12.5 12.5 0 0 0 .337 2.5H7.5V8.5H4.51zm3.99 0V11h2.653c.187-.765.306-1.608.338-2.5H8.5zM5.145 12c.138.386.295.744.468 1.068.552 1.035 1.218 1.65 1.887 1.855V12H5.145zm.182 2.472a6.696 6.696 0 0 1-.597-.933A9.268 9.268 0 0 1 4.09 12H2.255a7.024 7.024 0 0 0 3.072 2.472zM3.82 11a13.652 13.652 0 0 1-.312-2.5h-2.49c.062.89.291 1.733.656 2.5H3.82zm6.853 3.472A7.024 7.024 0 0 0 13.745 12H11.91a9.27 9.27 0 0 1-.64 1.539 6.688 6.688 0 0 1-.597.933zM8.5 12v2.923c.67-.204 1.335-.82 1.887-1.855.173-.324.33-.682.468-1.068H8.5zm3.68-1h2.146c.365-.767.594-1.61.656-2.5h-2.49a13.65 13.65 0 0 1-.312 2.5zm2.802-3.5a6.959 6.959 0 0 0-.656-2.5H12.18c.174.782.282 1.623.312 2.5h2.49zM11.27 2.461c.247.464.462.98.64 1.539h1.835a7.024 7.024 0 0 0-3.072-2.472c.218.284.418.598.597.933zM10.855 4a7.966 7.966 0 0 0-.468-1.068C9.835 1.897 9.17 1.282 8.5 1.077V4h2.355z"})})),e)),Object(d.jsxs)(I.a.Menu,{children:[Object(d.jsx)(I.a.Item,{onClick:function(){return p("USen")},active:"USen"===O,children:"English (US)"}),Object(d.jsx)(I.a.Item,{onClick:function(){return p("EUde")},active:"EUde"===O,children:"German"}),Object(d.jsx)(I.a.Item,{onClick:function(){return p("EUes")},active:"EUes"===O,children:"Spanish (Spain)"}),Object(d.jsx)(I.a.Item,{onClick:function(){return p("USes")},active:"USes"===O,children:"Spanish (Mexico)"}),Object(d.jsx)(I.a.Item,{onClick:function(){return p("EUfr")},active:"EUfr"===O,children:"French"}),Object(d.jsx)(I.a.Item,{onClick:function(){return p("EUit")},active:"EUit"===O,children:"Italian"}),Object(d.jsx)(I.a.Item,{onClick:function(){return p("EUnl")},active:"EUnl"===O,children:"Dutch"}),Object(d.jsx)(I.a.Item,{onClick:function(){return p("CNzh")},active:"CNzh"===O,children:"Simplified Chinese"}),Object(d.jsx)(I.a.Item,{onClick:function(){return p("TWzh")},active:"TWzh"===O,children:"Traditional Chinese"}),Object(d.jsx)(I.a.Item,{onClick:function(){return p("JPja")},active:"JPja"===O,children:"Japanese"}),Object(d.jsx)(I.a.Item,{onClick:function(){return p("KRko")},active:"KRko"===O,children:"Korean"}),Object(d.jsx)(I.a.Item,{onClick:function(){return p("EUru")},active:"EUru"===O,children:"Russian"})]})]}),Object(d.jsx)(h,{showModal:j,handleClose:function(){u(!1)},modalInfo:c,language:O}),Object(d.jsx)(S,{parentCallback:function(e){r(e),u(!0)},language:O})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(N,{})}),document.getElementById("root")),k()}},[[58,1,2]]]);
//# sourceMappingURL=main.2c0a4be4.chunk.js.map